{"ast":null,"code":"// Register\napp.post(\"/api/register\", async (req, res) => {\n  const {\n    email,\n    password,\n    name,\n    phone\n  } = req.body;\n  if (!email || !password) return res.status(400).json({\n    message: \"Email & password required\"\n  });\n  const exists = await User.findOne({\n    email\n  });\n  if (exists) return res.status(409).json({\n    message: \"User already exists\"\n  });\n  const hashed = await bcrypt.hash(password, 10);\n  const user = new User({\n    email,\n    password: hashed,\n    name: name || \"\",\n    phone: phone || \"\"\n  });\n  await user.save();\n\n  // Generate token and return user info\n  const token = generateToken(user);\n  res.json({\n    message: \"Registered successfully\",\n    token,\n    user: {\n      name: user.name,\n      phone: user.phone,\n      email: user.email\n    }\n  });\n});","map":{"version":3,"names":["app","post","req","res","email","password","name","phone","body","status","json","message","exists","User","findOne","hashed","bcrypt","hash","user","save","token","generateToken"],"sources":["C:/Users/shahwez malik/Downloads/scalable_web_full/src/pages/Register.js"],"sourcesContent":["// Register\napp.post(\"/api/register\", async (req, res) => {\n  const { email, password, name, phone } = req.body;\n\n  if (!email || !password)\n    return res.status(400).json({ message: \"Email & password required\" });\n\n  const exists = await User.findOne({ email });\n  if (exists)\n    return res.status(409).json({ message: \"User already exists\" });\n\n  const hashed = await bcrypt.hash(password, 10);\n\n  const user = new User({\n    email,\n    password: hashed,\n    name: name || \"\",\n    phone: phone || \"\"\n  });\n\n  await user.save();\n\n  // Generate token and return user info\n  const token = generateToken(user);\n\n  res.json({\n    message: \"Registered successfully\",\n    token,\n    user: { name: user.name, phone: user.phone, email: user.email }\n  });\n});\n"],"mappings":"AAAA;AACAA,GAAG,CAACC,IAAI,CAAC,eAAe,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC5C,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGL,GAAG,CAACM,IAAI;EAEjD,IAAI,CAACJ,KAAK,IAAI,CAACC,QAAQ,EACrB,OAAOF,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAE;EAA4B,CAAC,CAAC;EAEvE,MAAMC,MAAM,GAAG,MAAMC,IAAI,CAACC,OAAO,CAAC;IAAEV;EAAM,CAAC,CAAC;EAC5C,IAAIQ,MAAM,EACR,OAAOT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAE;EAAsB,CAAC,CAAC;EAEjE,MAAMI,MAAM,GAAG,MAAMC,MAAM,CAACC,IAAI,CAACZ,QAAQ,EAAE,EAAE,CAAC;EAE9C,MAAMa,IAAI,GAAG,IAAIL,IAAI,CAAC;IACpBT,KAAK;IACLC,QAAQ,EAAEU,MAAM;IAChBT,IAAI,EAAEA,IAAI,IAAI,EAAE;IAChBC,KAAK,EAAEA,KAAK,IAAI;EAClB,CAAC,CAAC;EAEF,MAAMW,IAAI,CAACC,IAAI,CAAC,CAAC;;EAEjB;EACA,MAAMC,KAAK,GAAGC,aAAa,CAACH,IAAI,CAAC;EAEjCf,GAAG,CAACO,IAAI,CAAC;IACPC,OAAO,EAAE,yBAAyB;IAClCS,KAAK;IACLF,IAAI,EAAE;MAAEZ,IAAI,EAAEY,IAAI,CAACZ,IAAI;MAAEC,KAAK,EAAEW,IAAI,CAACX,KAAK;MAAEH,KAAK,EAAEc,IAAI,CAACd;IAAM;EAChE,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}