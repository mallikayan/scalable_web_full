{"ast":null,"code":"const submit = async e => {\n  e.preventDefault();\n  const url = mode === \"login\" ? \"/login\" : \"/register\";\n  const body = mode === \"login\" ? {\n    email,\n    password\n  } : {\n    name,\n    phone,\n    email,\n    password\n  };\n  const res = await apiPost(url, body);\n  if (mode === \"login\") {\n    if (res.token) {\n      localStorage.setItem(\"token\", res.token);\n      window.location.href = \"/profile\"; // go to profile\n    } else {\n      setMsg(res.message);\n    }\n  } else {\n    // Register mode\n    if (res.token) {\n      localStorage.setItem(\"token\", res.token); // save token\n      window.location.href = \"/profile\"; // redirect to profile\n    } else {\n      setMsg(res.message);\n    }\n  }\n};","map":{"version":3,"names":["submit","e","preventDefault","url","mode","body","email","password","name","phone","res","apiPost","token","localStorage","setItem","window","location","href","setMsg","message"],"sources":["C:/Users/shahwez malik/Downloads/scalable_web_full/src/pages/Login.js"],"sourcesContent":["const submit = async e => {\n  e.preventDefault();\n\n  const url = mode === \"login\" ? \"/login\" : \"/register\";\n\n  const body =\n    mode === \"login\"\n      ? { email, password }\n      : { name, phone, email, password };\n\n  const res = await apiPost(url, body);\n\n  if (mode === \"login\") {\n    if (res.token) {\n      localStorage.setItem(\"token\", res.token);\n      window.location.href = \"/profile\"; // go to profile\n    } else {\n      setMsg(res.message);\n    }\n  } else {\n    // Register mode\n    if (res.token) {\n      localStorage.setItem(\"token\", res.token); // save token\n      window.location.href = \"/profile\"; // redirect to profile\n    } else {\n      setMsg(res.message);\n    }\n  }\n};\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,MAAMC,CAAC,IAAI;EACxBA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,MAAMC,GAAG,GAAGC,IAAI,KAAK,OAAO,GAAG,QAAQ,GAAG,WAAW;EAErD,MAAMC,IAAI,GACRD,IAAI,KAAK,OAAO,GACZ;IAAEE,KAAK;IAAEC;EAAS,CAAC,GACnB;IAAEC,IAAI;IAAEC,KAAK;IAAEH,KAAK;IAAEC;EAAS,CAAC;EAEtC,MAAMG,GAAG,GAAG,MAAMC,OAAO,CAACR,GAAG,EAAEE,IAAI,CAAC;EAEpC,IAAID,IAAI,KAAK,OAAO,EAAE;IACpB,IAAIM,GAAG,CAACE,KAAK,EAAE;MACbC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,GAAG,CAACE,KAAK,CAAC;MACxCG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,UAAU,CAAC,CAAC;IACrC,CAAC,MAAM;MACLC,MAAM,CAACR,GAAG,CAACS,OAAO,CAAC;IACrB;EACF,CAAC,MAAM;IACL;IACA,IAAIT,GAAG,CAACE,KAAK,EAAE;MACbC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,GAAG,CAACE,KAAK,CAAC,CAAC,CAAC;MAC1CG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,UAAU,CAAC,CAAC;IACrC,CAAC,MAAM;MACLC,MAAM,CAACR,GAAG,CAACS,OAAO,CAAC;IACrB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}